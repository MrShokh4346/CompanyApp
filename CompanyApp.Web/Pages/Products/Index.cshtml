@page
@using CompanyApp.Web.Data
@using CompanyApp.Web.Models
@inject AppDbContext Db
@functions{
    public List<Product> Items { get; set; } = new();
    public async Task OnGet(){ Items = await Db.Products.OrderBy(p=>p.Name).ToListAsync(); }
}
<div class="d-flex justify-content-between align-items-center mb-3">
  <h3 class="mb-0">Товары</h3>
  <a class="btn btn-success" href="/Products/Create">Добавить</a>
</div>
<div class="table-responsive">
  <table class="table table-striped">
    <thead><tr><th>Название</th><th>Цена</th><th>Остаток</th><th></th></tr></thead>
    <tbody>
    @foreach (var p in Items) {
      <tr>
        <td>@p.Name</td>
        <td>@p.Price</td>
        <td>@p.Stock</td>
        <td>
          <a class="btn btn-sm btn-primary" href="/Products/Edit?id=@p.Id">Изм.</a>
        </td>
      </tr>
    }
    </tbody>
  </table>
</div>
